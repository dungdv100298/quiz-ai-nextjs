generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model ExamAnalysis {
  id              Int      @id @default(autoincrement())
  userId          String
  examResultId    String
  examId          String
  examName        String
  subjectId       String
  subject         String
  rating          String
  score           Float
  workingTime     Int      @default(0)
  averageSpeed    Float?
  timeSpent       Float?
  inputTokens     Float
  outputTokens    Float
  totalTokens     Float
  inputCost       Float
  outputCost      Float
  totalCost       Float
  totalQuestions  Float
  emptyAnswers    Float
  correctAnswers  Float
  wrongAnswers    Float
  strengths       Json?
  weaknesses      Json?
  examUnfinished       Json?
  examLowScoreSameSubject      Json?
  questionLabels  Json     // Lưu trữ dưới dạng JSON
  topicAnalysis   Json     // Lưu trữ dưới dạng JSON
  analysisResult  Json     // Lưu trữ AnalysisResultDto dưới dạng JSON
  createdAt       DateTime @default(now())

  @@map("exam_analysis")
}